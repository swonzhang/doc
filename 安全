
https


hash算法 - 唯一性，不可逆性


A君和B君两个人通信，A君有私钥，B君有公钥，

A君发送消息给B君时，对消息体进行Hash函数处理，生成digest摘要。然后对摘要用私钥进行加密。最后把加密密码附在原消息后，发送出去。

B君收到A君的消息后，首先用公钥把加密密码 解密得到str1，解密成功即说明消息是来自A君。然后再对 原消息体进行Hash函数处理得出结果str2 ,判断str1是否等于str2,就可判断消息是否有被修改了。


以上的处理方式还是有点问题，就是会出现公钥伪造或者暴露问题。

道格想欺骗苏珊，他偷偷使用了苏珊的电脑，用自己的公钥换走了鲍勃的公钥。此时，苏珊实际拥有的是道格的公钥，但是还以为这是鲍勃的公钥。因此，道格就可以冒充鲍勃，用自己的私钥做成"数字签名"，写信给苏珊，让苏珊用假的鲍勃公钥进行解密。


然后出现了证书中心， A君发送消息前把自己的公钥交给CA证书中心，用CA证书中心的私钥加密，然后一起发给B君，B君拿到后，浏览器会自动用CA证书的公钥解密，得到A君的公钥。然后两者就可以通信了。